<% if @ajax_search.nil? or @ajax_search.empty? %>

  <% if @play_id %>

    <%# render :partial => 'monologues/list', :locals => { :monologues => @monologues } %>
    <%= list_monologues( @monologues ) %>

  <% else %>

    <table width="486" cellpadding="8" style="line-height: 160%;"border="1">
      <tr>
        <td width="230" nowrap style="font-size: 140%;"><b>Comedies</b></td>
        <td width="100" style="font-size: 140%;"><b>Histories</b></td>
        <td width="150" style="font-size: 140%;"><b>Tragedies</b></td>
      </tr>
      <tr>
        <td style="vertical-align: text-top;">
            <% @comedies.each do |comedy| %>
              <% path = @gender ? play_path(comedy, :g => @gender.id) : play_path(comedy) %>
              <%= link_to comedy.title, path %><br/>
            <% end %>
        </td>
        <td style="vertical-align: text-top;">
            <% @histories.each do |history| %>
              <% path = @gender ? play_path(history, :g => @gender.id) : play_path(history) %>
              <%= link_to history.title, path %><br/>
            <% end %>
        </td>
        <td style="vertical-align: text-top;">
            <% @tragedies.each do |tragedy| %>
              <% path = @gender ? play_path(tragedy, :g => @gender.id) : play_path(tragedy) %>
              <%= link_to tragedy.title, path %><br/>
            <% end %>
        </td>
      </tr>
    </table>

  <% end %>

<% else %>
  <% if @monologues.empty? %>

    <p><br/>Alas, no monologues match your search</p>
  <% else %>

    <% if params[:search] %>

      <% if @monologues.size == 1 %>
        <p>Behold! Your monologue.</p>
      <% else %>
        <p><%= @monologues.size.to_s %> monologues match your search</p>
      <% end %>

    <% else %>
      <p><div>First 20 monologues</div></p>
    <% end %>

    <%# render :partial => 'monologues/list', :locals => { :monologues => @monologues } %>

    <%= list_monologues( @monologues ) %>

  <% end %>
<% end %>

